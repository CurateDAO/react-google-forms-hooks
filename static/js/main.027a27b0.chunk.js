(this["webpackJsonpreact-google-forms-example"]=this["webpackJsonpreact-google-forms-example"]||[]).push([[0],{172:function(e,t,r){"use strict";r.r(t);r(82);var n=r(0),a=r.n(n),i=r(74),l=r.n(i),o=r(1),u=r.n(o),c=r(8),s=r(2),d=r(3),m=r(80),p=r(75),f=r.n(p),b=r(37),v=r.n(b),E=r(19),y=r.n(E);r(76),"undefined"!==typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!==typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));function O(e,t){try{var r=e()}catch(n){return t(n)}return r&&r.then?r.then(void 0,t):r}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var h,j,_,x,S,k=function(e,t,r){if(null===e)throw new Error("You need to wrap your form with a GoogleFormProvider");var n=e.getField(t);if(n.type!==r)throw new Error("Field with id "+n.id+" is not of type "+r);return n},w=["children"],R=Object(n.createContext)(null),I=function(){return Object(n.useContext)(R)},q=function(e){var t=e.children,r=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,w);return Object(n.createElement)(R.Provider,{value:r},t)},C=function(e,t){var r=I(),a=k(r,e,t),i=Object(n.useState)(!1),l=i[0],o=i[1],u=function(t){return r.register(e,g({required:a.required},t))},c=r.watch(e);Object(n.useEffect)((function(){"RADIO"===a.type?o(a.required&&c&&"__other_option__"===c):o(a.required&&c&&1===c.length&&c.includes("__other_option__"))}),[c,l]);var s=a.options.filter((function(e){return!e.custom})),d=function(t){return e+"-"+y()(t)},m={options:s.map((function(e){var t=d(e.label);return g({},e,{id:t,registerOption:function(t){return g({},u(g({},t)),{value:e.label})}})}))},p=a.options.find((function(e){return e.custom}));if(p){var f=d("__other_option__"),b=function(e){return e+"-other_option_response"}(f),v=r.formState.errors[b];m.customOption=g({},p,{id:f,registerOption:function(e){return void 0===e&&(e={}),g({},u(g({},e)),{value:"__other_option__"})},registerCustomInput:function(e){return void 0===e&&(e={}),r.register(b,g({required:l},e))},error:v})}var E=r.formState.errors[a.id];return g({},a,m,{error:E})},A=function(e){var t=e.form,r=Object(m.a)();r.getField=function(e){return function(e,t){var r=t.fieldsOrder[e];if(void 0===r)throw new Error("Field with id "+e+" wasn't found in your form");return t.fields[r]}(e,t)};return r.submitToGoogleForms=function(e){try{var r={};Object.keys(e).forEach((function(t){var n;r[(n=t,n.includes("other_option_response")?"entry."+n.replace("-__other_option__-other_option_response","")+".other_option_response":"entry."+n)]=e[t]}));var n=f.a.stringify(r,{skipNull:!0,skipEmptyString:!0}),a=O((function(){return Promise.resolve(v.a.get("https://docs.google.com/forms/d/"+t.action+"/formResponse?"+n+"&submit=Submit",{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).then((function(){}))}),(function(){}));return Promise.resolve(a&&a.then?a.then((function(){})):void 0)}catch(i){return Promise.reject(i)}},r},F=function(e,t){var r=I(),n=k(r,e,t),a=r.formState.errors[n.id];return g({},n,{register:function(t){return r.register(e,g({required:n.required},t))},error:a})},D=function(e,t){var r=I(),a=Object(n.useState)(void 0),i=a[0],l=a[1],o=k(r,e,t),u=function(t,r){return e+"-"+t+"-"+y()(r)};Object(n.useEffect)((function(){var e=o.lines.reduce((function(e,t){var n=r.formState.errors[t.id];return n&&(e[t.id]=n),e}),{});Object.keys(e).length>0?l(e):l(void 0)}),[r.formState.errors]);return g({},o,{renderGrid:function(e){return o.lines.map((function(t){return e(g({},t,{renderColumns:function(e){return o.columns.map((function(n){var a=u(t.id,n.label);return e(g({},n,{registerColumn:function(e){return g({},function(e){return r.register(t.id,g({required:o.required},e))}(e),{value:n.label})},id:a}))}))}}))}))},errors:i})},G=function(e){var t=I(),r=k(t,e,"DROPDOWN"),n=t.formState.errors[r.id],a=r.options.map((function(e){var t;return g({},e,{id:(t=e.label,r.id+"-"+y()(t))})}));return g({},r,{options:a,register:function(n){return t.register(e,g({required:r.required},n))},error:n})},N=function(e){var t=I(),r=k(t,e,"LINEAR"),n=function(n){return t.register(e,g({required:r.required},n))},a=t.formState.errors[r.id],i=r.options.map((function(e){var t,a=(t=e.label,r.id+"-"+y()(t));return g({},e,{id:a,registerOption:function(t){return g({},n(t),{value:e.label})}})}));return g({},r,{options:i,error:a})},H=r(38),L=d.a.div(h||(h=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),W=d.a.div(j||(j=Object(s.a)(["\n  display: flex;\n\n  & label {\n    margin: 0 10px;\n  }\n"])));function P(e){var t=function(e){return C(e,"CHECKBOX")}(e.id),r=t.options,n=t.customOption;return a.a.createElement(L,null,r.map((function(e){return a.a.createElement(W,{key:e.id},a.a.createElement("input",Object.assign({type:"checkbox",id:e.id},e.registerOption())),a.a.createElement("label",{htmlFor:e.id},e.label))})),n&&a.a.createElement(W,null,a.a.createElement("input",Object.assign({type:"checkbox",id:n.id},n.registerOption())),a.a.createElement("label",{htmlFor:n.id},"Outra"),a.a.createElement("input",Object.assign({type:"text",placeholder:"Resposta aqui"},n.registerCustomInput()))))}var T,B,K,X,J=d.a.div(_||(_=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),U=d.a.div(x||(x=Object(s.a)(["\n  display: flex;\n\n  & label {\n    margin: 0 10px;\n  }\n"]))),Y=d.a.span(S||(S=Object(s.a)(["\n  color: red;\n  padding: 10px 0;\n"])));function z(e){var t=function(e){return C(e,"RADIO")}(e.id),r=t.options,n=t.customOption,i=t.error;return a.a.createElement(J,null,r.map((function(e){return a.a.createElement(U,{key:e.id},a.a.createElement("input",Object.assign({type:"radio",id:e.id},e.registerOption())),a.a.createElement("label",{htmlFor:e.id},e.label))})),n&&a.a.createElement(U,null,a.a.createElement("input",Object.assign({type:"radio",id:n.id},n.registerOption())),a.a.createElement("label",{htmlFor:n.id},"Outra"),a.a.createElement("input",Object.assign({type:"text",placeholder:"Resposta aqui"},n.registerCustomInput()))),a.a.createElement(Y,null,i&&"This field is required"))}function Q(e){var t=function(e){return F(e,"SHORT_ANSWER")}(e.id).register;return a.a.createElement("div",null,a.a.createElement("input",Object.assign({type:"text"},t())))}function M(e){var t=function(e){return F(e,"LONG_ANSWER")}(e.id).register;return a.a.createElement("div",null,a.a.createElement("textarea",Object.assign({type:"text"},t())))}var V,Z,$,ee,te=d.a.div(T||(T=Object(s.a)(["\n  display: table;\n"]))),re=d.a.header(B||(B=Object(s.a)(["\n  display: table-row;\n"]))),ne=d.a.div(K||(K=Object(s.a)(["\n  display: table-row;\n"]))),ae=d.a.div(X||(X=Object(s.a)(["\n  display: table-cell;\n  padding: 5px;\n"])));function ie(e){var t=function(e){return D(e,"RADIO_GRID")}(e.id),r=t.columns,n=t.renderGrid;return a.a.createElement(te,null,a.a.createElement(re,null,a.a.createElement(ae,null),r.map((function(e){return a.a.createElement(ae,{key:e.label},e.label)}))),n((function(e){return a.a.createElement(ne,{key:e.label},a.a.createElement(ae,null,e.label),e.renderColumns((function(e){return a.a.createElement(ae,{key:e.label},a.a.createElement("input",Object.assign({type:"radio"},e.registerColumn())))})))})))}var le,oe,ue=d.a.div(V||(V=Object(s.a)(["\n  display: table;\n"]))),ce=d.a.header(Z||(Z=Object(s.a)(["\n  display: table-row;\n"]))),se=d.a.div($||($=Object(s.a)(["\n  display: table-row;\n"]))),de=d.a.div(ee||(ee=Object(s.a)(["\n  display: table-cell;\n  padding: 5px;\n"])));function me(e){var t=function(e){return D(e,"CHECKBOX_GRID")}(e.id),r=t.columns,n=t.renderGrid;return a.a.createElement(ue,null,a.a.createElement(ce,null,a.a.createElement(de,null),r.map((function(e){return a.a.createElement(de,{key:e.label},e.label)}))),n((function(e){return a.a.createElement(se,{key:e.label},a.a.createElement(de,null,e.label),e.renderColumns((function(e){return a.a.createElement(de,{key:e.label},a.a.createElement("input",Object.assign({type:"checkbox"},e.registerColumn())))})))})))}function pe(e){var t=e.id,r=G(t),n=r.register,i=r.options;return a.a.createElement("div",null,a.a.createElement("select",n(),a.a.createElement("option",{value:""},"Select option"),i.map((function(e){return a.a.createElement("option",{key:e.label,value:e.label},e.label)}))))}var fe,be,ve,Ee=d.a.div(le||(le=Object(s.a)(["\n  display: flex;\n  align-items: center;\n\n  & * {\n    margin: 0 10px;\n  }\n  margin-bottom 10px;\n"]))),ye=d.a.span(oe||(oe=Object(s.a)(["\n  color: red;\n"])));function Oe(e){var t=e.id,r=N(t),n=r.options,i=r.legend,l=r.error;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ee,null,a.a.createElement("div",null,i.labelFirst),n.map((function(e){return a.a.createElement("input",Object.assign({key:e.id,type:"radio"},e.registerOption()))})),a.a.createElement("div",null,i.labelLast)),a.a.createElement(ye,null,l&&"This field is required"))}var ge=d.a.form(fe||(fe=Object(s.a)(["\n  max-width: 600px;\n  margin: 0 auto;\n  padding: 50px 0;\n"]))),he=d.a.div(be||(be=Object(s.a)(["\n  margin-bottom: 20px;\n"]))),je=d.a.h3(ve||(ve=Object(s.a)(["\n  margin-bottom: 10px;\n"]))),_e=function(){return a.a.createElement("div",null,H.fields.map((function(e){var t=e.id,r=null;switch(e.type){case"CHECKBOX":r=a.a.createElement(P,{id:t});break;case"RADIO":r=a.a.createElement(z,{id:t});break;case"SHORT_ANSWER":r=a.a.createElement(Q,{id:t});break;case"LONG_ANSWER":r=a.a.createElement(M,{id:t});break;case"RADIO_GRID":r=a.a.createElement(ie,{id:t});break;case"CHECKBOX_GRID":r=a.a.createElement(me,{id:t});break;case"DROPDOWN":r=a.a.createElement(pe,{id:t});break;case"LINEAR":r=a.a.createElement(Oe,{id:t})}return r?a.a.createElement(he,{key:t},a.a.createElement(je,null,e.label),r):null})))},xe=function(){var e=A({form:H}),t=function(){var t=Object(c.a)(u.a.mark((function t(r){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(">>> Here is the data",r),t.next=3,e.submitToGoogleForms(r);case 3:alert("Form submitted with success!");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return console.log(">>> Here are the errors!!!",e.formState.errors),a.a.createElement(q,e,a.a.createElement(ge,{onSubmit:e.handleSubmit(t)},a.a.createElement(_e,null),a.a.createElement("button",{type:"submit"},"Submeter")))};l.a.render(a.a.createElement(xe,null),document.getElementById("root"))},38:function(e){e.exports=JSON.parse('{"fvv":1,"pageHistory":0,"fbzx":"4367206215934512302","action":"e/1FAIpQLSe5U3qvg8WHs4nkU-e6h2RlAD7fKoCkou6HO2w2-tXYIA_F8g","fields":[{"label":"Where did you find this library?","type":"RADIO","id":"2081366314","options":[{"label":"Reddit","custom":false},{"label":"Stack Overflow","custom":false},{"label":"Github","custom":false},{"label":"Google","custom":false},{"label":"","custom":true}],"required":true},{"label":"How would you rate this library?","type":"LINEAR","id":"1587407061","legend":{"labelFirst":"Really bad","labelLast":"Really good"},"options":[{"label":"1"},{"label":"2"},{"label":"3"},{"label":"4"},{"label":"5"},{"label":"6"},{"label":"7"},{"label":"8"},{"label":"9"},{"label":"10"}],"required":true},{"label":"Do you want to give some feedback?","type":"LONG_ANSWER","id":"1864908950","required":false}],"fieldsOrder":{"1587407061":1,"1864908950":2,"2081366314":0}}')},81:function(e,t,r){e.exports=r(172)},82:function(e,t,r){}},[[81,1,2]]]);
//# sourceMappingURL=main.027a27b0.chunk.js.map