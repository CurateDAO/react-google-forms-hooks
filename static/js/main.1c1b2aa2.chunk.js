(this["webpackJsonpreact-google-forms-example"]=this["webpackJsonpreact-google-forms-example"]||[]).push([[0],{178:function(e,t,n){"use strict";n.r(t);n(88);var r,a,i,c,l,o=n(0),u=n.n(o),s=n(79),d=n.n(s),b=n(2),m=n.n(b),p=n(5),f=n(3),O=n(4),E=n(1),j=n(10),v=n(86),g=n(85),y=n(80),h=n.n(y),x=n(42),k=n.n(x),w=n(24),R=n.n(w),S=(n(81),["children"]),_=function(e,t,n){if(null===e)throw new Error("You need to wrap your form with a GoogleFormProvider");var r=e.getField(t);if(r.type!==n)throw new Error("Field with id ".concat(r.id," is not of type ").concat(n));return r},q=Object(o.createContext)(null),C=function(){return Object(o.useContext)(q)},I=function(e){var t=e.children,n=Object(v.a)(e,S);return Object(o.createElement)(q.Provider,{value:n},t)},A="__other_option__",F=function(e,t){var n=C(),r=_(n,e,t),a=Object(o.useState)(!1),i=Object(j.a)(a,2),c=i[0],l=i[1],u=function(t){return n.register(e,Object(E.a)({required:r.required},t))},s=n.watch(e);Object(o.useEffect)((function(){"RADIO"===r.type?l(r.required&&s&&s===A):l(r.required&&s&&1===s.length&&s.includes(A))}),[s,c]);var d=r.options.filter((function(e){return!e.custom})),b=function(t){return"".concat(e,"-").concat(R()(t))},m={options:d.map((function(e){var t=b(e.label);return Object(E.a)(Object(E.a)({},e),{},{id:t,registerOption:function(t){return Object(E.a)(Object(E.a)({},u(Object(E.a)({},t))),{},{value:e.label})}})}))},p=r.options.find((function(e){return e.custom}));if(p){var f=b(A),O=function(e){return"".concat(e,"-").concat("other_option_response")}(f),v=n.formState.errors[O];m.customOption=Object(E.a)(Object(E.a)({},p),{},{id:f,registerOption:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(E.a)(Object(E.a)({},u(Object(E.a)({},e))),{},{value:A})},registerCustomInput:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.register(O,Object(E.a)({required:c},e))},error:v})}var g=n.formState.errors[r.id];return Object(E.a)(Object(E.a)(Object(E.a)({},r),m),{},{error:g})},D=function(e){var t=e.form,n=Object(g.a)();n.getField=function(e){return function(e,t){var n=t.fieldsOrder[e];if(void 0===n)throw new Error("Field with id ".concat(e," wasn't found in your form"));return t.fields[n]}(e,t)};var r=function(){var e=Object(p.a)(m.a.mark((function e(n){var r,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={},Object.keys(n).forEach((function(e){var t;r[(t=e,t.includes("other_option_response")?"entry.".concat(t.replace("-".concat(A,"-").concat("other_option_response"),""),".").concat("other_option_response"):"entry.".concat(t))]=n[e]})),a=h.a.stringify(r,{skipNull:!0,skipEmptyString:!0}),e.prev=3,e.next=6,k.a.get("".concat("https://docs.google.com/forms/d","/").concat(t.action,"/formResponse?").concat(a,"&submit=Submit"),{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 6:e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(3),e.abrupt("return");case 11:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}();return n.submitToGoogleForms=r,n},G=function(e,t){var n=C(),r=_(n,e,t),a=n.formState.errors[r.id];return Object(E.a)(Object(E.a)({},r),{},{register:function(t){return n.register(e,Object(E.a)({required:r.required},t))},error:a})},N=function(e,t){var n=C(),r=Object(o.useState)(void 0),a=Object(j.a)(r,2),i=a[0],c=a[1],l=_(n,e,t),u=function(t,n){return"".concat(e,"-").concat(t,"-").concat(R()(n))};Object(o.useEffect)((function(){var e=l.lines.reduce((function(e,t){var r=n.formState.errors[t.id];return r&&(e[t.id]=r),e}),{});Object.keys(e).length>0?c(e):c(void 0)}),[n.formState.errors]);return Object(E.a)(Object(E.a)({},l),{},{renderGrid:function(e){return l.lines.map((function(t){return e(Object(E.a)(Object(E.a)({},t),{},{renderColumns:function(e){return l.columns.map((function(r){var a=u(t.id,r.label);return e(Object(E.a)(Object(E.a)({},r),{},{registerColumn:function(e){return Object(E.a)(Object(E.a)({},function(e){return n.register(t.id,Object(E.a)({required:l.required},e))}(e)),{},{value:r.label})},id:a}))}))}}))}))},errors:i})},H=function(e){var t=C(),n=_(t,e,"DROPDOWN"),r=t.formState.errors[n.id],a=n.options.map((function(e){var t,r=(t=e.label,"".concat(n.id,"-").concat(R()(t)));return Object(E.a)(Object(E.a)({},e),{},{id:r})}));return Object(E.a)(Object(E.a)({},n),{},{options:a,register:function(r){return t.register(e,Object(E.a)({required:n.required},r))},error:r})},L=function(e){var t=C(),n=_(t,e,"LINEAR"),r=function(r){return t.register(e,Object(E.a)({required:n.required},r))},a=t.formState.errors[n.id],i=n.options.map((function(e){var t,a=(t=e.label,"".concat(n.id,"-").concat(R()(t)));return Object(E.a)(Object(E.a)({},e),{},{id:a,registerOption:function(t){return Object(E.a)(Object(E.a)({},r(t)),{},{value:e.label})}})}));return Object(E.a)(Object(E.a)({},n),{},{options:i,error:a})},W=n(43),T=O.a.div(r||(r=Object(f.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),B=O.a.div(a||(a=Object(f.a)(["\n  display: flex;\n\n  & label {\n    margin: 0 10px;\n  }\n"])));function K(e){var t=function(e){return F(e,"CHECKBOX")}(e.id),n=t.options,r=t.customOption;return u.a.createElement(T,null,n.map((function(e){return u.a.createElement(B,{key:e.id},u.a.createElement("input",Object.assign({type:"checkbox",id:e.id},e.registerOption())),u.a.createElement("label",{htmlFor:e.id},e.label))})),r&&u.a.createElement(B,null,u.a.createElement("input",Object.assign({type:"checkbox",id:r.id},r.registerOption())),u.a.createElement("label",{htmlFor:r.id},"Outra"),u.a.createElement("input",Object.assign({type:"text",placeholder:"Resposta aqui"},r.registerCustomInput()))))}var X,P,J,U,Y=O.a.div(i||(i=Object(f.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),z=O.a.div(c||(c=Object(f.a)(["\n  display: flex;\n\n  & label {\n    margin: 0 10px;\n  }\n"]))),Q=O.a.span(l||(l=Object(f.a)(["\n  color: red;\n  padding: 10px 0;\n"])));function M(e){var t=function(e){return F(e,"RADIO")}(e.id),n=t.options,r=t.customOption,a=t.error;return u.a.createElement(Y,null,n.map((function(e){return u.a.createElement(z,{key:e.id},u.a.createElement("input",Object.assign({type:"radio",id:e.id},e.registerOption())),u.a.createElement("label",{htmlFor:e.id},e.label))})),r&&u.a.createElement(z,null,u.a.createElement("input",Object.assign({type:"radio",id:r.id},r.registerOption())),u.a.createElement("label",{htmlFor:r.id},"Outra"),u.a.createElement("input",Object.assign({type:"text",placeholder:"Resposta aqui"},r.registerCustomInput()))),u.a.createElement(Q,null,a&&"This field is required"))}function V(e){var t=function(e){return G(e,"SHORT_ANSWER")}(e.id).register;return u.a.createElement("div",null,u.a.createElement("input",Object.assign({type:"text"},t())))}function Z(e){var t=function(e){return G(e,"LONG_ANSWER")}(e.id).register;return u.a.createElement("div",null,u.a.createElement("textarea",Object.assign({type:"text"},t())))}var $,ee,te,ne,re=O.a.div(X||(X=Object(f.a)(["\n  display: table;\n"]))),ae=O.a.header(P||(P=Object(f.a)(["\n  display: table-row;\n"]))),ie=O.a.div(J||(J=Object(f.a)(["\n  display: table-row;\n"]))),ce=O.a.div(U||(U=Object(f.a)(["\n  display: table-cell;\n  padding: 5px;\n"])));function le(e){var t=function(e){return N(e,"RADIO_GRID")}(e.id),n=t.columns,r=t.renderGrid;return u.a.createElement(re,null,u.a.createElement(ae,null,u.a.createElement(ce,null),n.map((function(e){return u.a.createElement(ce,{key:e.label},e.label)}))),r((function(e){return u.a.createElement(ie,{key:e.label},u.a.createElement(ce,null,e.label),e.renderColumns((function(e){return u.a.createElement(ce,{key:e.label},u.a.createElement("input",Object.assign({type:"radio"},e.registerColumn())))})))})))}var oe,ue,se=O.a.div($||($=Object(f.a)(["\n  display: table;\n"]))),de=O.a.header(ee||(ee=Object(f.a)(["\n  display: table-row;\n"]))),be=O.a.div(te||(te=Object(f.a)(["\n  display: table-row;\n"]))),me=O.a.div(ne||(ne=Object(f.a)(["\n  display: table-cell;\n  padding: 5px;\n"])));function pe(e){var t=function(e){return N(e,"CHECKBOX_GRID")}(e.id),n=t.columns,r=t.renderGrid;return u.a.createElement(se,null,u.a.createElement(de,null,u.a.createElement(me,null),n.map((function(e){return u.a.createElement(me,{key:e.label},e.label)}))),r((function(e){return u.a.createElement(be,{key:e.label},u.a.createElement(me,null,e.label),e.renderColumns((function(e){return u.a.createElement(me,{key:e.label},u.a.createElement("input",Object.assign({type:"checkbox"},e.registerColumn())))})))})))}function fe(e){var t=e.id,n=H(t),r=n.register,a=n.options;return u.a.createElement("div",null,u.a.createElement("select",r(),u.a.createElement("option",{value:""},"Select option"),a.map((function(e){return u.a.createElement("option",{key:e.label,value:e.label},e.label)}))))}var Oe,Ee,je,ve=O.a.div(oe||(oe=Object(f.a)(["\n  display: flex;\n  align-items: center;\n\n  & * {\n    margin: 0 10px;\n  }\n  margin-bottom 10px;\n"]))),ge=O.a.span(ue||(ue=Object(f.a)(["\n  color: red;\n"])));function ye(e){var t=e.id,n=L(t),r=n.options,a=n.legend,i=n.error;return u.a.createElement(u.a.Fragment,null,u.a.createElement(ve,null,u.a.createElement("div",null,a.labelFirst),r.map((function(e){return u.a.createElement("input",Object.assign({key:e.id,type:"radio"},e.registerOption()))})),u.a.createElement("div",null,a.labelLast)),u.a.createElement(ge,null,i&&"This field is required"))}var he=O.a.form(Oe||(Oe=Object(f.a)(["\n  max-width: 600px;\n  margin: 0 auto;\n  padding: 50px 0;\n"]))),xe=O.a.div(Ee||(Ee=Object(f.a)(["\n  margin-bottom: 20px;\n"]))),ke=O.a.h3(je||(je=Object(f.a)(["\n  margin-bottom: 10px;\n"]))),we=function(){return u.a.createElement("div",null,W.fields.map((function(e){var t=e.id,n=null;switch(e.type){case"CHECKBOX":n=u.a.createElement(K,{id:t});break;case"RADIO":n=u.a.createElement(M,{id:t});break;case"SHORT_ANSWER":n=u.a.createElement(V,{id:t});break;case"LONG_ANSWER":n=u.a.createElement(Z,{id:t});break;case"RADIO_GRID":n=u.a.createElement(le,{id:t});break;case"CHECKBOX_GRID":n=u.a.createElement(pe,{id:t});break;case"DROPDOWN":n=u.a.createElement(fe,{id:t});break;case"LINEAR":n=u.a.createElement(ye,{id:t})}return n?u.a.createElement(xe,{key:t},u.a.createElement(ke,null,e.label),n):null})))},Re=function(){var e=D({form:W}),t=function(){var t=Object(p.a)(m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(">>> Here is the data",n),t.next=3,e.submitToGoogleForms(n);case 3:alert("Form submitted with success!");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return console.log(">>> Here are the errors!!!",e.formState.errors),u.a.createElement(I,e,u.a.createElement(he,{onSubmit:e.handleSubmit(t)},u.a.createElement(we,null),u.a.createElement("button",{type:"submit"},"Submeter")))};d.a.render(u.a.createElement(Re,null),document.getElementById("root"))},43:function(e){e.exports=JSON.parse('{"fvv":1,"pageHistory":0,"fbzx":"4367206215934512302","action":"e/1FAIpQLSe5U3qvg8WHs4nkU-e6h2RlAD7fKoCkou6HO2w2-tXYIA_F8g","fields":[{"label":"Where did you find this library?","type":"RADIO","id":"2081366314","options":[{"label":"Reddit","custom":false},{"label":"Stack Overflow","custom":false},{"label":"Github","custom":false},{"label":"Google","custom":false},{"label":"","custom":true}],"required":true},{"label":"How would you rate this library?","type":"LINEAR","id":"1587407061","legend":{"labelFirst":"Really bad","labelLast":"Really good"},"options":[{"label":"1"},{"label":"2"},{"label":"3"},{"label":"4"},{"label":"5"},{"label":"6"},{"label":"7"},{"label":"8"},{"label":"9"},{"label":"10"}],"required":true},{"label":"Do you want to give some feedback?","type":"LONG_ANSWER","id":"1864908950","required":false}],"fieldsOrder":{"1587407061":1,"1864908950":2,"2081366314":0}}')},87:function(e,t,n){e.exports=n(178)},88:function(e,t,n){}},[[87,1,2]]]);
//# sourceMappingURL=main.1c1b2aa2.chunk.js.map